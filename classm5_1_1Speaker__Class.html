<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>M5Unified: m5::Speaker_Class Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">M5Unified
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>m5</b></li><li class="navelem"><a class="el" href="classm5_1_1Speaker__Class.html">Speaker_Class</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classm5_1_1Speaker__Class-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">m5::Speaker_Class Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for m5::Speaker_Class:</div>
<div class="dyncontent">
<div class="center"><img src="classm5_1_1Speaker__Class__coll__graph.png" border="0" usemap="#am5_1_1Speaker__Class_coll__map" alt="Collaboration graph"/></div>
<map name="am5_1_1Speaker__Class_coll__map" id="am5_1_1Speaker__Class_coll__map">
<area shape="rect" title=" " alt="" coords="100,213,245,240"/>
<area shape="rect" href="structm5_1_1Speaker__Class_1_1channel__info__t.html" title=" " alt="" coords="5,109,159,151"/>
<area shape="rect" href="structm5_1_1Speaker__Class_1_1wav__info__t.html" title=" " alt="" coords="5,5,159,47"/>
<area shape="rect" href="structm5_1_1speaker__config__t.html" title=" " alt="" coords="183,117,343,143"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm5_1_1Speaker__Class_1_1channel__info__t.html">channel_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm5_1_1Speaker__Class_1_1wav__info__t.html">wav_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5f214789bcd8807b2410ff6144f23151"><td class="memItemLeft" align="right" valign="top"><a id="a5f214789bcd8807b2410ff6144f23151"></a>
<a class="el" href="structm5_1_1speaker__config__t.html">speaker_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>config</b> (void) const</td></tr>
<tr class="separator:a5f214789bcd8807b2410ff6144f23151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632f414dc01b6101d56a805cc2d0f1de"><td class="memItemLeft" align="right" valign="top"><a id="a632f414dc01b6101d56a805cc2d0f1de"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>config</b> (const <a class="el" href="structm5_1_1speaker__config__t.html">speaker_config_t</a> &amp;cfg)</td></tr>
<tr class="separator:a632f414dc01b6101d56a805cc2d0f1de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cc9f195fa0f3062af24aec23966ebf"><td class="memItemLeft" align="right" valign="top"><a id="a09cc9f195fa0f3062af24aec23966ebf"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> (void)</td></tr>
<tr class="separator:a09cc9f195fa0f3062af24aec23966ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b20bcfeccdee04f52609360da85e719"><td class="memItemLeft" align="right" valign="top"><a id="a8b20bcfeccdee04f52609360da85e719"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> (void)</td></tr>
<tr class="separator:a8b20bcfeccdee04f52609360da85e719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7175a23117043fee3a01f18ab36b122a"><td class="memItemLeft" align="right" valign="top"><a id="a7175a23117043fee3a01f18ab36b122a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isRunning</b> (void) const</td></tr>
<tr class="separator:a7175a23117043fee3a01f18ab36b122a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28bc1df709ab8a0416a4327891aa228a"><td class="memItemLeft" align="right" valign="top"><a id="a28bc1df709ab8a0416a4327891aa228a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isEnabled</b> (void) const</td></tr>
<tr class="separator:a28bc1df709ab8a0416a4327891aa228a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a1ca006f52e95412232ca28e2cfeb4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#aa1a1ca006f52e95412232ca28e2cfeb4">isPlaying</a> (void) const volatile</td></tr>
<tr class="separator:aa1a1ca006f52e95412232ca28e2cfeb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5259158a45ea3d9dfe8e4680af75a09e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a5259158a45ea3d9dfe8e4680af75a09e">isPlaying</a> (uint8_t channel) const volatile</td></tr>
<tr class="separator:a5259158a45ea3d9dfe8e4680af75a09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae64f011378b15a18e17c3ee045de1c4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#aae64f011378b15a18e17c3ee045de1c4">getPlayingChannels</a> (void) const volatile</td></tr>
<tr class="separator:aae64f011378b15a18e17c3ee045de1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22806d31ea1eb9fef8edccbb7cf61a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#ab22806d31ea1eb9fef8edccbb7cf61a2">setVolume</a> (uint8_t master_volume)</td></tr>
<tr class="separator:ab22806d31ea1eb9fef8edccbb7cf61a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1547eecd0dfa3a725a102b3073d161"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a9c1547eecd0dfa3a725a102b3073d161">getVolume</a> (void) const</td></tr>
<tr class="separator:a9c1547eecd0dfa3a725a102b3073d161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e544e3dbd83f80d63008fccf2f4a6bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a1e544e3dbd83f80d63008fccf2f4a6bf">setAllChannelVolume</a> (uint8_t volume)</td></tr>
<tr class="separator:a1e544e3dbd83f80d63008fccf2f4a6bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d5fa4384b72819d6615357a5dd9852"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#af6d5fa4384b72819d6615357a5dd9852">setChannelVolume</a> (uint8_t channel, uint8_t volume)</td></tr>
<tr class="separator:af6d5fa4384b72819d6615357a5dd9852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f8eaf8baf19d6590cd26c53e0b1176"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#ac1f8eaf8baf19d6590cd26c53e0b1176">getChannelVolume</a> (uint8_t channel) const</td></tr>
<tr class="separator:ac1f8eaf8baf19d6590cd26c53e0b1176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a441339b6a9825112be5111636fd09eb5"><td class="memItemLeft" align="right" valign="top"><a id="a441339b6a9825112be5111636fd09eb5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a441339b6a9825112be5111636fd09eb5">stop</a> (void)</td></tr>
<tr class="memdesc:a441339b6a9825112be5111636fd09eb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop sound output. <br /></td></tr>
<tr class="separator:a441339b6a9825112be5111636fd09eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4557512d6f5e16f2a937a3510006adf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a4557512d6f5e16f2a937a3510006adf9">stop</a> (uint8_t channel)</td></tr>
<tr class="separator:a4557512d6f5e16f2a937a3510006adf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2ff9ea7e14cee7edb93b429bcdba13"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#aca2ff9ea7e14cee7edb93b429bcdba13">tone</a> (float frequency, uint32_t duration, int channel, bool stop_current_sound, const uint8_t *raw_data, size_t array_len, bool stereo=false)</td></tr>
<tr class="separator:aca2ff9ea7e14cee7edb93b429bcdba13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2047b18c0f58f48332a3489babc994"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a5b2047b18c0f58f48332a3489babc994">tone</a> (float frequency, uint32_t duration=UINT32_MAX, int channel=-1, bool stop_current_sound=true)</td></tr>
<tr class="separator:a5b2047b18c0f58f48332a3489babc994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af105ba94e7ec2800df5afe1f0110d09d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#af105ba94e7ec2800df5afe1f0110d09d">playRaw</a> (const int8_t *raw_data, size_t array_len, uint32_t sample_rate=44100, bool stereo=false, uint32_t repeat=1, int channel=-1, bool stop_current_sound=false)</td></tr>
<tr class="separator:af105ba94e7ec2800df5afe1f0110d09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c42e689cd7eb416c87b2ae906c23f64"><td class="memItemLeft" align="right" valign="top"><a id="a3c42e689cd7eb416c87b2ae906c23f64"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>playRAW</b> (const int8_t *raw_data, size_t array_len, uint32_t sample_rate=44100, bool stereo=false, uint32_t repeat=1, int channel=-1, bool stop_current_sound=false)</td></tr>
<tr class="separator:a3c42e689cd7eb416c87b2ae906c23f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16002b08a528ac4ed91d28aae6b5eb5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#ac16002b08a528ac4ed91d28aae6b5eb5">playRaw</a> (const uint8_t *raw_data, size_t array_len, uint32_t sample_rate=44100, bool stereo=false, uint32_t repeat=1, int channel=-1, bool stop_current_sound=false)</td></tr>
<tr class="separator:ac16002b08a528ac4ed91d28aae6b5eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6561c3cb84d85fa0d2575ea849e81d66"><td class="memItemLeft" align="right" valign="top"><a id="a6561c3cb84d85fa0d2575ea849e81d66"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>playRAW</b> (const uint8_t *raw_data, size_t array_len, uint32_t sample_rate=44100, bool stereo=false, uint32_t repeat=1, int channel=-1, bool stop_current_sound=false)</td></tr>
<tr class="separator:a6561c3cb84d85fa0d2575ea849e81d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5204429388ace2cd36b29d3ba1813c28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a5204429388ace2cd36b29d3ba1813c28">playRaw</a> (const int16_t *raw_data, size_t array_len, uint32_t sample_rate=44100, bool stereo=false, uint32_t repeat=1, int channel=-1, bool stop_current_sound=false)</td></tr>
<tr class="separator:a5204429388ace2cd36b29d3ba1813c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597b26c73a54d8ad54f2a3c2ac7b5fa1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a597b26c73a54d8ad54f2a3c2ac7b5fa1">playRAW</a> (const int16_t *raw_data, size_t array_len, uint32_t sample_rate=44100, bool stereo=false, uint32_t repeat=1, int channel=-1, bool stop_current_sound=false)</td></tr>
<tr class="separator:a597b26c73a54d8ad54f2a3c2ac7b5fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790eccead315f7e8796bd261a3e9e774"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a790eccead315f7e8796bd261a3e9e774">playWav</a> (const uint8_t *wav_data, size_t data_len=~0u, uint32_t repeat=1, int channel=-1, bool stop_current_sound=false)</td></tr>
<tr class="separator:a790eccead315f7e8796bd261a3e9e774"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae881d1b92f836626e2c54e40d92228da"><td class="memItemLeft" align="right" valign="top"><a id="ae881d1b92f836626e2c54e40d92228da"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCallback</b> (void *args, bool(*func)(void *, bool))</td></tr>
<tr class="separator:ae881d1b92f836626e2c54e40d92228da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eba72ec7dc14b508f976bbef68b909c"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a8eba72ec7dc14b508f976bbef68b909c">_setup_i2s</a> (void)</td></tr>
<tr class="separator:a8eba72ec7dc14b508f976bbef68b909c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80657f74f10f60440da2e1b524c2137f"><td class="memItemLeft" align="right" valign="top"><a id="a80657f74f10f60440da2e1b524c2137f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_play_raw</b> (const void *wav, size_t array_len, bool flg_16bit, bool flg_signed, float sample_rate, bool flg_stereo, uint32_t repeat_count, int channel, bool stop_current_sound, bool no_clear_index)</td></tr>
<tr class="separator:a80657f74f10f60440da2e1b524c2137f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613c85e23f53cc57cc2c825f182b371d"><td class="memItemLeft" align="right" valign="top"><a id="a613c85e23f53cc57cc2c825f182b371d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_set_next_wav</b> (size_t ch, const <a class="el" href="structm5_1_1Speaker__Class_1_1wav__info__t.html">wav_info_t</a> &amp;wav)</td></tr>
<tr class="separator:a613c85e23f53cc57cc2c825f182b371d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a9a244177236da60b8848c8861990e12f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm5_1_1Speaker__Class.html#a9a244177236da60b8848c8861990e12f">spk_task</a> (void *args)</td></tr>
<tr class="separator:a9a244177236da60b8848c8861990e12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7070090e44e32106aca874eb0ecf9a75"><td class="memItemLeft" align="right" valign="top"><a id="a7070090e44e32106aca874eb0ecf9a75"></a>
<a class="el" href="structm5_1_1Speaker__Class_1_1channel__info__t.html">channel_info_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_ch_info</b> [sound_channel_max]</td></tr>
<tr class="separator:a7070090e44e32106aca874eb0ecf9a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1aff44c9eff2b3da7863641eb9dad5"><td class="memItemLeft" align="right" valign="top"><a id="afb1aff44c9eff2b3da7863641eb9dad5"></a>
<a class="el" href="structm5_1_1speaker__config__t.html">speaker_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_cfg</b></td></tr>
<tr class="separator:afb1aff44c9eff2b3da7863641eb9dad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76468e79b517d94f069c93c1cc9229cf"><td class="memItemLeft" align="right" valign="top"><a id="a76468e79b517d94f069c93c1cc9229cf"></a>
volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_master_volume</b> = 64</td></tr>
<tr class="separator:a76468e79b517d94f069c93c1cc9229cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e3b20480be98bae842435bc55589a8"><td class="memItemLeft" align="right" valign="top"><a id="a05e3b20480be98bae842435bc55589a8"></a>
bool(*&#160;</td><td class="memItemRight" valign="bottom"><b>_cb_set_enabled</b> )(void *args, bool enabled) = nullptr</td></tr>
<tr class="separator:a05e3b20480be98bae842435bc55589a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2a8ce180f5cff28ab1ed68f1341522"><td class="memItemLeft" align="right" valign="top"><a id="a5f2a8ce180f5cff28ab1ed68f1341522"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>_cb_set_enabled_args</b> = nullptr</td></tr>
<tr class="separator:a5f2a8ce180f5cff28ab1ed68f1341522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360e75df09e4345e65943d2fc60f7eba"><td class="memItemLeft" align="right" valign="top"><a id="a360e75df09e4345e65943d2fc60f7eba"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>_task_running</b> = false</td></tr>
<tr class="separator:a360e75df09e4345e65943d2fc60f7eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab188889739862463b7c122f07f52c7d6"><td class="memItemLeft" align="right" valign="top"><a id="ab188889739862463b7c122f07f52c7d6"></a>
std::atomic&lt; uint16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_play_channel_bits</b> = { 0 }</td></tr>
<tr class="separator:ab188889739862463b7c122f07f52c7d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615b45a97a44491194500e3d8d43a214"><td class="memItemLeft" align="right" valign="top"><a id="a615b45a97a44491194500e3d8d43a214"></a>
TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><b>_task_handle</b> = nullptr</td></tr>
<tr class="separator:a615b45a97a44491194500e3d8d43a214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6ab75e22e91f8e360cb9ca6f37113e"><td class="memItemLeft" align="right" valign="top"><a id="aca6ab75e22e91f8e360cb9ca6f37113e"></a>
volatile SemaphoreHandle_t&#160;</td><td class="memItemRight" valign="bottom"><b>_task_semaphore</b> = nullptr</td></tr>
<tr class="separator:aca6ab75e22e91f8e360cb9ca6f37113e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ac03dff1187fd15a0bf95b69944b7eb73"><td class="memItemLeft" align="right" valign="top"><a id="ac03dff1187fd15a0bf95b69944b7eb73"></a>
static constexpr const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>sound_channel_max</b> = 8</td></tr>
<tr class="separator:ac03dff1187fd15a0bf95b69944b7eb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafee33f95dac94aeeb312ab816c0ed20"><td class="memItemLeft" align="right" valign="top"><a id="aafee33f95dac94aeeb312ab816c0ed20"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_default_tone_wav</b> [16] = { 177, 219, 246, 255, 246, 219, 177, 128, 79, 37, 10, 1, 10, 37, 79, 128 }</td></tr>
<tr class="separator:aafee33f95dac94aeeb312ab816c0ed20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8eba72ec7dc14b508f976bbef68b909c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eba72ec7dc14b508f976bbef68b909c">&#9670;&nbsp;</a></span>_setup_i2s()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t m5::Speaker_Class::_setup_i2s </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>DACが使用できるのはI2Sポート0のみ。;</p>
<p>all pin set to I2S_PIN_NO_CHANGE</p>
<p>レジスタを操作してDACモードの設定を有効にする(I2S0のみ。I2S1はDAC,ADC非対応) ;</p>

</div>
</div>
<a id="ac1f8eaf8baf19d6590cd26c53e0b1176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f8eaf8baf19d6590cd26c53e0b1176">&#9670;&nbsp;</a></span>getChannelVolume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t m5::Speaker_Class::getChannelVolume </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gets the output volume of the sound for the specified virtual channel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>virtual channel number. (0~7) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>channel volume. </dd></dl>

</div>
</div>
<a id="aae64f011378b15a18e17c3ee045de1c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae64f011378b15a18e17c3ee045de1c4">&#9670;&nbsp;</a></span>getPlayingChannels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t m5::Speaker_Class::getPlayingChannels </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const volatile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of channels that are playing. </p><dl class="section return"><dt>Returns</dt><dd>number of channels that are playing. </dd></dl>

</div>
</div>
<a id="a9c1547eecd0dfa3a725a102b3073d161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c1547eecd0dfa3a725a102b3073d161">&#9670;&nbsp;</a></span>getVolume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t m5::Speaker_Class::getVolume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>gets the output master volume of the sound. </p><dl class="section return"><dt>Returns</dt><dd>master volume. </dd></dl>

</div>
</div>
<a id="a5259158a45ea3d9dfe8e4680af75a09e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5259158a45ea3d9dfe8e4680af75a09e">&#9670;&nbsp;</a></span>isPlaying() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t m5::Speaker_Class::isPlaying </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td> const volatile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>now in playing or not. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>virtual channel number. (0~7), (default = automatically selected) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0=not playing / 1=playing (There's room in the queue) / 2=playing (There's no room in the queue.) </dd></dl>

</div>
</div>
<a id="aa1a1ca006f52e95412232ca28e2cfeb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a1ca006f52e95412232ca28e2cfeb4">&#9670;&nbsp;</a></span>isPlaying() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::isPlaying </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const volatile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>now in playing or not. </p><dl class="section return"><dt>Returns</dt><dd>false=not playing / true=playing </dd></dl>

</div>
</div>
<a id="a5204429388ace2cd36b29d3ba1813c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5204429388ace2cd36b29d3ba1813c28">&#9670;&nbsp;</a></span>playRaw() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::playRaw </td>
          <td>(</td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>array_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sample_rate</em> = <code>44100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stereo</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>repeat</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stop_current_sound</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>play raw sound wave data. (for signed 16bit wav data) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">raw_data</td><td>wave data. </td></tr>
    <tr><td class="paramname">array_len</td><td>Number of data array elements. </td></tr>
    <tr><td class="paramname">sample_rate</td><td>the sampling rate (Hz) (default = 44100) </td></tr>
    <tr><td class="paramname">stereo</td><td>true=data is stereo / false=data is monaural. </td></tr>
    <tr><td class="paramname">repeat</td><td>number of times played repeatedly. (default = 1) </td></tr>
    <tr><td class="paramname">channel</td><td>virtual channel number (If omitted, use an available channel.) </td></tr>
    <tr><td class="paramname">stop_current_sound</td><td>true=start a new output without waiting for the current one to finish. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>If you want to use the data generated at runtime, you can either have three buffers and use them in sequence, or have two buffers and use them alternately, then split them in half and call playRaw twice. </dd>
<dd>
If noise is present in the output sounds, consider increasing the priority of the task that generates the data. </dd></dl>

</div>
</div>
<a id="a597b26c73a54d8ad54f2a3c2ac7b5fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597b26c73a54d8ad54f2a3c2ac7b5fa1">&#9670;&nbsp;</a></span>playRAW()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::playRAW </td>
          <td>(</td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>array_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sample_rate</em> = <code>44100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stereo</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>repeat</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stop_current_sound</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>"playRAW" function has been renamed to "playRaw" </dd></dl>

</div>
</div>
<a id="af105ba94e7ec2800df5afe1f0110d09d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af105ba94e7ec2800df5afe1f0110d09d">&#9670;&nbsp;</a></span>playRaw() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::playRaw </td>
          <td>(</td>
          <td class="paramtype">const int8_t *&#160;</td>
          <td class="paramname"><em>raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>array_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sample_rate</em> = <code>44100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stereo</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>repeat</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stop_current_sound</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>play raw sound wave data. (for signed 8bit wav data) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">raw_data</td><td>wave data. </td></tr>
    <tr><td class="paramname">array_len</td><td>Number of data array elements. </td></tr>
    <tr><td class="paramname">sample_rate</td><td>the sampling rate (Hz) (default = 44100) </td></tr>
    <tr><td class="paramname">stereo</td><td>true=data is stereo / false=data is monaural. </td></tr>
    <tr><td class="paramname">repeat</td><td>number of times played repeatedly. (default = 1) </td></tr>
    <tr><td class="paramname">channel</td><td>virtual channel number (If omitted, use an available channel.) </td></tr>
    <tr><td class="paramname">stop_current_sound</td><td>true=start a new output without waiting for the current one to finish. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>If you want to use the data generated at runtime, you can either have three buffers and use them in sequence, or have two buffers and use them alternately, then split them in half and call playRaw twice. </dd>
<dd>
If noise is present in the output sounds, consider increasing the priority of the task that generates the data. </dd></dl>

</div>
</div>
<a id="ac16002b08a528ac4ed91d28aae6b5eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac16002b08a528ac4ed91d28aae6b5eb5">&#9670;&nbsp;</a></span>playRaw() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::playRaw </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>array_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sample_rate</em> = <code>44100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stereo</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>repeat</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stop_current_sound</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>play raw sound wave data. (for unsigned 8bit wav data) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">raw_data</td><td>wave data. </td></tr>
    <tr><td class="paramname">array_len</td><td>Number of data array elements. </td></tr>
    <tr><td class="paramname">sample_rate</td><td>the sampling rate (Hz) (default = 44100) </td></tr>
    <tr><td class="paramname">stereo</td><td>true=data is stereo / false=data is monaural. </td></tr>
    <tr><td class="paramname">repeat</td><td>number of times played repeatedly. (default = 1) </td></tr>
    <tr><td class="paramname">channel</td><td>virtual channel number (If omitted, use an available channel.) </td></tr>
    <tr><td class="paramname">stop_current_sound</td><td>true=start a new output without waiting for the current one to finish. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>If you want to use the data generated at runtime, you can either have three buffers and use them in sequence, or have two buffers and use them alternately, then split them in half and call playRaw twice. </dd>
<dd>
If noise is present in the output sounds, consider increasing the priority of the task that generates the data. </dd></dl>

</div>
</div>
<a id="a790eccead315f7e8796bd261a3e9e774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790eccead315f7e8796bd261a3e9e774">&#9670;&nbsp;</a></span>playWav()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::playWav </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>wav_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_len</em> = <code>~0u</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>repeat</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stop_current_sound</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>play WAV format sound data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wav_data</td><td>wave data. (WAV header included) </td></tr>
    <tr><td class="paramname">repeat</td><td>number of times played repeatedly. (default = 1) </td></tr>
    <tr><td class="paramname">channel</td><td>virtual channel number (If omitted, use an available channel.) </td></tr>
    <tr><td class="paramname">stop_current_sound</td><td>true=start a new output without waiting for the current one to finish. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e544e3dbd83f80d63008fccf2f4a6bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e544e3dbd83f80d63008fccf2f4a6bf">&#9670;&nbsp;</a></span>setAllChannelVolume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void m5::Speaker_Class::setAllChannelVolume </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>volume</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>sets the output volume of the sound for the all virtual channel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">volume</td><td>channel volume (0~255) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6d5fa4384b72819d6615357a5dd9852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6d5fa4384b72819d6615357a5dd9852">&#9670;&nbsp;</a></span>setChannelVolume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void m5::Speaker_Class::setChannelVolume </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>volume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>sets the output volume of the sound for the specified virtual channel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>virtual channel number. (0~7) </td></tr>
    <tr><td class="paramname">volume</td><td>channel volume (0~255) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab22806d31ea1eb9fef8edccbb7cf61a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22806d31ea1eb9fef8edccbb7cf61a2">&#9670;&nbsp;</a></span>setVolume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void m5::Speaker_Class::setVolume </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>master_volume</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>sets the output master volume of the sound. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">master_volume</td><td>master volume (0~255) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a244177236da60b8848c8861990e12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a244177236da60b8848c8861990e12f">&#9670;&nbsp;</a></span>spk_task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void m5::Speaker_Class::spk_task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>1サンプリング当たりの出力ビット数;</p>
<p>MCLKを使用しない場合、サンプリングレート誤差が少なくなるようにdiv_mを調整する;</p>
<p>実際に設定されたサンプリングレートの算出を行う;</p>
<p>liner_prevからliner_baseへの２サンプル間の線形補間;</p>
<p>DAC出力は cfg.dac_zero_levelが0に設定されている場合、振幅のオフセットを動的に変更する。; DAC出力が低いほどノイズ音が減るため、なるべくDAC出力を下げてノイズを低減することを目的とする。;</p>
<p>ブザー出力は 1bit ΔΣ方式。 I2Sデータ出力をブザーの駆動信号として利用する; 出力はモノラル限定だが、I2Sへはステレオ扱いで出力する。; (I2Sをモノラル設定にした場合は同じデータが２チャンネル分送信されてしまうため、敢えてステレオ扱いとしている);</p>

</div>
</div>
<a id="a4557512d6f5e16f2a937a3510006adf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4557512d6f5e16f2a937a3510006adf9">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void m5::Speaker_Class::stop </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stop sound output for the specified virtual channel. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>virtual channel number. (0~7) </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classm5_1_1Speaker__Class_a4557512d6f5e16f2a937a3510006adf9_cgraph.png" border="0" usemap="#aclassm5_1_1Speaker__Class_a4557512d6f5e16f2a937a3510006adf9_cgraph" alt=""/></div>
<map name="aclassm5_1_1Speaker__Class_a4557512d6f5e16f2a937a3510006adf9_cgraph" id="aclassm5_1_1Speaker__Class_a4557512d6f5e16f2a937a3510006adf9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,187,32"/>
<area shape="rect" href="classm5_1_1Speaker__Class.html#a441339b6a9825112be5111636fd09eb5" title="stop sound output." alt="" coords="235,5,416,32"/>
</map>
</div>

</div>
</div>
<a id="aca2ff9ea7e14cee7edb93b429bcdba13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca2ff9ea7e14cee7edb93b429bcdba13">&#9670;&nbsp;</a></span>tone() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::tone </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stop_current_sound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>raw_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>array_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stereo</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>play simple tone sound. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>tone frequency (Hz) </td></tr>
    <tr><td class="paramname">duration</td><td>tone duration (msec) </td></tr>
    <tr><td class="paramname">channel</td><td>virtual channel number. (0~7), (default = automatically selected) </td></tr>
    <tr><td class="paramname">stop_current_sound</td><td>true=start a new output without waiting for the current one to finish. </td></tr>
    <tr><td class="paramname">raw_data</td><td>Single amplitude audio data. 8bit unsigned wav. </td></tr>
    <tr><td class="paramname">array_len</td><td>size of raw_data. </td></tr>
    <tr><td class="paramname">stereo</td><td>true=data is stereo / false=data is mono. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b2047b18c0f58f48332a3489babc994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b2047b18c0f58f48332a3489babc994">&#9670;&nbsp;</a></span>tone() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool m5::Speaker_Class::tone </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>duration</em> = <code>UINT32_MAX</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stop_current_sound</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>play simple tone sound. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>tone frequency (Hz) </td></tr>
    <tr><td class="paramname">duration</td><td>tone duration (msec) </td></tr>
    <tr><td class="paramname">channel</td><td>virtual channel number. (0~7), (default = automatically selected) </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_cgraph.png" border="0" usemap="#aclassm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_cgraph" alt=""/></div>
<map name="aclassm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_cgraph" id="aclassm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,188,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_icgraph.png" border="0" usemap="#aclassm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_icgraph" alt=""/></div>
<map name="aclassm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_icgraph" id="aclassm5_1_1Speaker__Class_a5b2047b18c0f58f48332a3489babc994_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,188,56"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/utility/<a class="el" href="Speaker__Class_8hpp_source.html">Speaker_Class.hpp</a></li>
<li>src/utility/Speaker_Class.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
